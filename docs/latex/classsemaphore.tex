\hypertarget{classsemaphore}{\section{semaphore Class Reference}
\label{classsemaphore}\index{semaphore@{semaphore}}
}


{\ttfamily \#include $<$semaphore.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsemaphore_a31507ed70a3da29a101b37c5cb9e286e}{semaphore} (int mid=0, const char $\ast$dir=\char`\"{}/\char`\"{})
\item 
void \hyperlink{classsemaphore_a7fabe8758afc2f2b3f62c45514ab1b6a}{request} (int nr=0)
\item 
void \hyperlink{classsemaphore_a1979f4ba3834a6e12fd32ceca4e9d261}{release} (int nr=0)
\item 
int \hyperlink{classsemaphore_a2e79d2e0e2ce47d698f51ecc91b76b39}{number} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classsemaphore_a64fc11fb8a84ceb95e510829795ed996}{memid}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}The class provides semaphores.
With Linux the SysV style semaphores are used.

The function of the semaphores is crucial to all applications
relying on Pbus-access. To maintain the state of the semaphores
use the program "semtool" or the system commands "ipcs" and "ipcrm".

List the state of the semphores.
\end{DoxyVerb}
 \begin{DoxyVerb}semtool t\end{DoxyVerb}
 \begin{DoxyVerb}After an abnormal program end it can happen, that semapohres stay
locked. Any access to the electronic will be impossible in this state.
Use "semtool" to clear the state of the semaphores.
\end{DoxyVerb}
 \begin{DoxyVerb}\end{DoxyVerb}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000004}{Todo}]Would be nice to have named semaphores with a automatic numbering?! 

There is another definition of semaphores in \hyperlink{semaphore_8h}{semaphore.\-h}. Is this useful? 

G\-U\-I programm for Windows N\-T also need protection, when multiple threads are used! Try to adapt a version with the M\-F\-C Semaphores.\end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000005}{Todo}]Add optional argument to the constructor to define a message stream.\end{DoxyRefDesc}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classsemaphore_a31507ed70a3da29a101b37c5cb9e286e}{\index{semaphore@{semaphore}!semaphore@{semaphore}}
\index{semaphore@{semaphore}!semaphore@{semaphore}}
\subsubsection[{semaphore}]{\setlength{\rightskip}{0pt plus 5cm}semaphore\-::semaphore (
\begin{DoxyParamCaption}
\item[{int}]{mid = {\ttfamily 0}, }
\item[{const char $\ast$}]{dir = {\ttfamily \char`\"{}/\char`\"{}}}
\end{DoxyParamCaption}
)}}\label{classsemaphore_a31507ed70a3da29a101b37c5cb9e286e}
Creates a Semaphore array. 
\begin{DoxyParams}{Parameters}
{\em mid} & Number of the (first) Semaphore in the array \\
\hline
{\em dir} & Name of the base directory \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classsemaphore_a2e79d2e0e2ce47d698f51ecc91b76b39}{\index{semaphore@{semaphore}!number@{number}}
\index{number@{number}!semaphore@{semaphore}}
\subsubsection[{number}]{\setlength{\rightskip}{0pt plus 5cm}int semaphore\-::number (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classsemaphore_a2e79d2e0e2ce47d698f51ecc91b76b39}
Returns the number of semaphores in the array \hypertarget{classsemaphore_a1979f4ba3834a6e12fd32ceca4e9d261}{\index{semaphore@{semaphore}!release@{release}}
\index{release@{release}!semaphore@{semaphore}}
\subsubsection[{release}]{\setlength{\rightskip}{0pt plus 5cm}void semaphore\-::release (
\begin{DoxyParamCaption}
\item[{int}]{nr = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{classsemaphore_a1979f4ba3834a6e12fd32ceca4e9d261}
\hypertarget{classsemaphore_a7fabe8758afc2f2b3f62c45514ab1b6a}{\index{semaphore@{semaphore}!request@{request}}
\index{request@{request}!semaphore@{semaphore}}
\subsubsection[{request}]{\setlength{\rightskip}{0pt plus 5cm}void semaphore\-::request (
\begin{DoxyParamCaption}
\item[{int}]{nr = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{classsemaphore_a7fabe8758afc2f2b3f62c45514ab1b6a}


\subsection{Member Data Documentation}
\hypertarget{classsemaphore_a64fc11fb8a84ceb95e510829795ed996}{\index{semaphore@{semaphore}!memid@{memid}}
\index{memid@{memid}!semaphore@{semaphore}}
\subsubsection[{memid}]{\setlength{\rightskip}{0pt plus 5cm}int semaphore\-::memid\hspace{0.3cm}{\ttfamily [private]}}}\label{classsemaphore_a64fc11fb8a84ceb95e510829795ed996}
Returns the key of the semphore array This is the number that can be found in the display of the system command \char`\"{}ipcs\char`\"{}. 

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/home/ntj/\-Development/phd/kitcube-\/tools/src/akutil/\hyperlink{semaphore_8h}{semaphore.\-h}\item 
/home/ntj/\-Development/phd/kitcube-\/tools/src/akutil/\hyperlink{semaphore_8cpp}{semaphore.\-cpp}\end{DoxyCompactItemize}
