\hypertarget{classSimpleServer}{\section{Simple\-Server Class Reference}
\label{classSimpleServer}\index{Simple\-Server@{Simple\-Server}}
}


{\ttfamily \#include $<$simpleserver.\-h$>$}

Inheritance diagram for Simple\-Server\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classSimpleServer}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSimpleServer_aa4280135e2e20be8b8ae792e7119a061}{Simple\-Server} (unsigned short \hyperlink{classBaseServer_a66052c095234e31cada29b678b039c68}{port})
\item 
\hyperlink{classSimpleServer_aa4280135e2e20be8b8ae792e7119a061}{Simple\-Server} (unsigned short \hyperlink{classBaseServer_a66052c095234e31cada29b678b039c68}{port})
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual int \hyperlink{classSimpleServer_a1ff0dbc4a9c446fa4649410983b58311}{read\-\_\-from\-\_\-client} (int filedes)
\item 
virtual void \hyperlink{classSimpleServer_ad8244094d9e1806edaa166093c94bd24}{execute\-Cmd} (int client, short cmd, unsigned int $\ast$arg, short n)
\item 
virtual void \hyperlink{classSimpleServer_aabc58e7a255ae0efb25abdadbbaec527}{execute\-Cmd} (int client, short cmd, unsigned long $\ast$arg, short n)
\item 
virtual int \hyperlink{classSimpleServer_a1b032a7621374ef35a806af87253185a}{read\-\_\-from\-\_\-client} (int filedes)
\item 
virtual void \hyperlink{classSimpleServer_ad8244094d9e1806edaa166093c94bd24}{execute\-Cmd} (int client, short cmd, unsigned int $\ast$arg, short n)
\item 
virtual void \hyperlink{classSimpleServer_a4bbb57e575122b539fcddfa803cee206}{execute\-Cmd} (int client, short cmd, unsigned long $\ast$arg, short n)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Implements a simple I\-P server.

The server waits for connections. The communication with the client is defined in the protected function read\-\_\-from\-\_\-client. Overload this function for a specific application.

The \hyperlink{classSimpleServer}{Simple\-Server} automatically detects the byte order of the client process and transfers all data in client byte order.

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000006}{Todo}]Use a independant threads for all connections. If one connection hangs, the other won't be affected?! 

Improve the Server managment. Loging, Shutdown via I\-P. For some other purpose a New class similar to Pbus/\-Pbus\-Proxy couble may be useful for mainanace and run control. Eg. Shutdown + restart of the Server, Control of the I\-Rdispatcher!!!\end{DoxyRefDesc}


Changes\-: \begin{DoxyItemize}
\item 30.\-8.\-05 ak\-: Detect client byte order \item 4.\-11.\-02 ak\-: Add stdin to the select functions. The server is now responding to socket and keyboard input! Improved output of the server -\/ format similar to that of netstat --ip. \item 31.\-10.\-02 ak\-: Closing all connected sockets before shutdown. This prevents hanging connections after terminating the server. \item 18.\-3.\-01 ak\-: Protected variable for the output stream introduced -\/ stop this nasty messages in the terminal!!!\end{DoxyItemize}
Implements a simple I\-P server.

The server waits for connections. The communication with the client is defined in the protected function read\-\_\-from\-\_\-client. Overload this function for a specific application.

The \hyperlink{classSimpleServer}{Simple\-Server} automatically detects the byte order of the client process and transfers all data in client byte order.

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000012}{Todo}]Use a independant threads for all connections. If one connection hangs, the other won't be affected?! 

Improve the Server managment. Loging, Shutdown via I\-P. For some other purpose a New class similar to Pbus/\-Pbus\-Proxy couble may be useful for mainanace and run control. Eg. Shutdown + restart of the Server, Control of the I\-Rdispatcher!!!\end{DoxyRefDesc}


Changes\-: \begin{DoxyItemize}
\item 30.\-8.\-05 ak\-: Detect client byte order \item 4.\-11.\-02 ak\-: Add stdin to the select functions. The server is now responding to socket and keyboard input! Improved output of the server -\/ format similar to that of netstat --ip. \item 31.\-10.\-02 ak\-: Closing all connected sockets before shutdown. This prevents hanging connections after terminating the server. \item 18.\-3.\-01 ak\-: Protected variable for the output stream introduced -\/ stop this nasty messages in the terminal!!! \end{DoxyItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classSimpleServer_aa4280135e2e20be8b8ae792e7119a061}{\index{Simple\-Server@{Simple\-Server}!Simple\-Server@{Simple\-Server}}
\index{Simple\-Server@{Simple\-Server}!SimpleServer@{Simple\-Server}}
\subsubsection[{Simple\-Server}]{\setlength{\rightskip}{0pt plus 5cm}Simple\-Server\-::\-Simple\-Server (
\begin{DoxyParamCaption}
\item[{unsigned short}]{port}
\end{DoxyParamCaption}
)}}\label{classSimpleServer_aa4280135e2e20be8b8ae792e7119a061}
\hypertarget{classSimpleServer_aa4280135e2e20be8b8ae792e7119a061}{\index{Simple\-Server@{Simple\-Server}!Simple\-Server@{Simple\-Server}}
\index{Simple\-Server@{Simple\-Server}!SimpleServer@{Simple\-Server}}
\subsubsection[{Simple\-Server}]{\setlength{\rightskip}{0pt plus 5cm}Simple\-Server\-::\-Simple\-Server (
\begin{DoxyParamCaption}
\item[{unsigned short}]{port}
\end{DoxyParamCaption}
)}}\label{classSimpleServer_aa4280135e2e20be8b8ae792e7119a061}


\subsection{Member Function Documentation}
\hypertarget{classSimpleServer_ad8244094d9e1806edaa166093c94bd24}{\index{Simple\-Server@{Simple\-Server}!execute\-Cmd@{execute\-Cmd}}
\index{execute\-Cmd@{execute\-Cmd}!SimpleServer@{Simple\-Server}}
\subsubsection[{execute\-Cmd}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Simple\-Server\-::execute\-Cmd (
\begin{DoxyParamCaption}
\item[{int}]{client, }
\item[{short}]{cmd, }
\item[{unsigned int $\ast$}]{arg, }
\item[{short}]{n}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classSimpleServer_ad8244094d9e1806edaa166093c94bd24}
Execute a command -\/ The instruction set on the client side remote\-Call needs to fit to this implementation 

Reimplemented in \hyperlink{classDataServer_a726b0971e705894e243726640ecb7db0}{Data\-Server}, and \hyperlink{classReader_a8d71e1068d9bf3886ac4fd472ed71ae9}{Reader}.

\hypertarget{classSimpleServer_ad8244094d9e1806edaa166093c94bd24}{\index{Simple\-Server@{Simple\-Server}!execute\-Cmd@{execute\-Cmd}}
\index{execute\-Cmd@{execute\-Cmd}!SimpleServer@{Simple\-Server}}
\subsubsection[{execute\-Cmd}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Simple\-Server\-::execute\-Cmd (
\begin{DoxyParamCaption}
\item[{int}]{client, }
\item[{short}]{cmd, }
\item[{unsigned int $\ast$}]{arg, }
\item[{short}]{n}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classSimpleServer_ad8244094d9e1806edaa166093c94bd24}
Execute a command -\/ The instruction set on the client side remote\-Call needs to fit to this implementation 

Reimplemented in \hyperlink{classDataServer_a726b0971e705894e243726640ecb7db0}{Data\-Server}, and \hyperlink{classReader_a8d71e1068d9bf3886ac4fd472ed71ae9}{Reader}.

\hypertarget{classSimpleServer_a4bbb57e575122b539fcddfa803cee206}{\index{Simple\-Server@{Simple\-Server}!execute\-Cmd@{execute\-Cmd}}
\index{execute\-Cmd@{execute\-Cmd}!SimpleServer@{Simple\-Server}}
\subsubsection[{execute\-Cmd}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Simple\-Server\-::execute\-Cmd (
\begin{DoxyParamCaption}
\item[{int}]{client, }
\item[{short}]{cmd, }
\item[{unsigned long $\ast$}]{arg, }
\item[{short}]{n}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classSimpleServer_a4bbb57e575122b539fcddfa803cee206}
\hypertarget{classSimpleServer_aabc58e7a255ae0efb25abdadbbaec527}{\index{Simple\-Server@{Simple\-Server}!execute\-Cmd@{execute\-Cmd}}
\index{execute\-Cmd@{execute\-Cmd}!SimpleServer@{Simple\-Server}}
\subsubsection[{execute\-Cmd}]{\setlength{\rightskip}{0pt plus 5cm}void Simple\-Server\-::execute\-Cmd (
\begin{DoxyParamCaption}
\item[{int}]{client, }
\item[{short}]{cmd, }
\item[{unsigned long $\ast$}]{arg, }
\item[{short}]{n}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classSimpleServer_aabc58e7a255ae0efb25abdadbbaec527}
\hypertarget{classSimpleServer_a1b032a7621374ef35a806af87253185a}{\index{Simple\-Server@{Simple\-Server}!read\-\_\-from\-\_\-client@{read\-\_\-from\-\_\-client}}
\index{read\-\_\-from\-\_\-client@{read\-\_\-from\-\_\-client}!SimpleServer@{Simple\-Server}}
\subsubsection[{read\-\_\-from\-\_\-client}]{\setlength{\rightskip}{0pt plus 5cm}virtual int Simple\-Server\-::read\-\_\-from\-\_\-client (
\begin{DoxyParamCaption}
\item[{int}]{filedes}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classSimpleServer_a1b032a7621374ef35a806af87253185a}
Defines the interface from the communication with the proxy process. The function is able to detect if the client uses a different byte order and automatically re-\/orders the data. All following communication will be swapped to have the appropriate byte order.

The protocol is defined as follows\-: \begin{DoxyItemize}
\item command (4 bytes) \item len (4 bytes) \item data (len $\ast$ 4bytes) \end{DoxyItemize}


Reimplemented from \hyperlink{classBaseServer_a3e649e1a9564008b2728b429bcb7e192}{Base\-Server}.

\hypertarget{classSimpleServer_a1ff0dbc4a9c446fa4649410983b58311}{\index{Simple\-Server@{Simple\-Server}!read\-\_\-from\-\_\-client@{read\-\_\-from\-\_\-client}}
\index{read\-\_\-from\-\_\-client@{read\-\_\-from\-\_\-client}!SimpleServer@{Simple\-Server}}
\subsubsection[{read\-\_\-from\-\_\-client}]{\setlength{\rightskip}{0pt plus 5cm}int Simple\-Server\-::read\-\_\-from\-\_\-client (
\begin{DoxyParamCaption}
\item[{int}]{filedes}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classSimpleServer_a1ff0dbc4a9c446fa4649410983b58311}
Defines the interface from the communication with the proxy process. The function is able to detect if the client uses a different byte order and automatically re-\/orders the data. All following communication will be swapped to have the appropriate byte order.

The protocol is defined as follows\-: \begin{DoxyItemize}
\item command (4 bytes) \item len (4 bytes) \item data (len $\ast$ 4bytes) \end{DoxyItemize}


Reimplemented from \hyperlink{classBaseServer_a3e649e1a9564008b2728b429bcb7e192}{Base\-Server}.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/home/ntj/\-Development/phd/kitcube-\/tools/src/akutil/\hyperlink{simpleserver_8h}{simpleserver.\-h}\item 
/home/ntj/\-Development/phd/kitcube-\/tools/src/akutil.\-minimal/\hyperlink{minimal_2simpleserver_8h}{simpleserver.\-h}\item 
/home/ntj/\-Development/phd/kitcube-\/tools/src/akutil/\hyperlink{simpleserver_8cpp}{simpleserver.\-cpp}\item 
/home/ntj/\-Development/phd/kitcube-\/tools/src/akutil.\-minimal/\hyperlink{minimal_2simpleserver_8cpp}{simpleserver.\-cpp}\end{DoxyCompactItemize}
